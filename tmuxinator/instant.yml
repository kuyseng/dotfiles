# ~/.tmuxinator/.yml
# you can make as many tabs as you wish...

name: instant
root: /var/www/yoolk_instant_website_office/  # make default when create new window or panes
pre:  # Runs before everything
  - catalina start
  - redis-server /usr/local/etc/redis.conf
#pre_window: rbenv shell 2.0.0-p247 # Runs in each tab and pane
tmux_options: -v -u # Pass arguments to tmux
windows:
  - editor: vim

  - git:
      layout: even-horizontal
      panes:
        - git fetch # it auto fetch submodule yoolk_core
        - cd yoolk_core

  - guard:
      layout: even-horizontal
      panes:
        # clear log
        - rm log/*.*
        # run test in yoolk_core need to move to that module
        - cd yoolk_core

  - railsc: rm yoolk_core/spec/dummy/log/*.*

  - railss:
      layout: even-vertical
      panes:
        - rails s -p 3001
        - clear # for run sidekiq

  - zother:
      pre:
        - cd ~
        - rm tmux-*.log
      panes: cd -; rm tmux-*.log

